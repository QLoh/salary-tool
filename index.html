<!DOCTYPE html>
<html lang="zh-TW">
<head>
  <meta charset="UTF-8">
  <title>114年 三保一退查詢小工具</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 20px;
      background: #f9fafb;
      color: #333;
    }
    h1 {
      font-size: 22px;
      margin-bottom: 5px;
    }
    h2 {
      font-size: 16px;
      font-weight: normal;
      margin-top: 0;
      color: #555;
    }
    input, button {
      padding: 10px;
      font-size: 16px;
      margin: 5px 0;
    }
    button {
      background: #111827;
      color: #fff;
      border: none;
      border-radius: 6px;
      cursor: pointer;
    }
    .result {
      margin-top: 20px;
    }
    .card {
      background: #fff;
      border: 1px solid #ddd;
      border-radius: 8px;
      padding: 15px;
      margin-bottom: 15px;
      box-shadow: 0 2px 4px rgba(0,0,0,0.05);
    }
    .card h3 {
      margin: 0 0 10px 0;
      font-size: 18px;
      color: #111827;
    }
    .card p {
      margin: 4px 0;
      font-size: 15px;
    }
    .note {
      font-size: 14px;
      margin-top: 20px;
      color: #555;
    }
  </style>
</head>
<body>
  <h1>114 年｜三保一退查詢小工具</h1>
  <h2>輸入月薪 → 自動比對保險級距，快速核對是否正確</h2>

  <input type="number" id="salary" placeholder="請輸入月薪">
  <button onclick="calculate()">查詢</button>

  <div class="result" id="output"></div>

  <div class="note">
    <p>使用說明：</p>
    <ul>
      <li>本表為方便勞工快速查詢工資所對應的保險級距。</li>
      <li>勞保以日為單位，健保以月為單位，本程式統一以「月」（30日）計算。</li>
      <li>健保僅計算個人保費，未納入眷屬保費。</li>
    </ul>
  </div>

<script>
  // 保費率設定（僅示例，可依114年最新公告調整）
  const laborRates = { personal: 0.022, company: 0.077 }; 
  const healthRates = { personal: 0.017, company: 0.034 }; 
  const pensionRate = 0.06;

  // 勞保級距
  const laborLevels = [11100, 12000, 12600, 13300, 14000, 15000, 15800, 16500, 17200, 17800, 19000, 20000, 21000, 22000, 24000, 25200, 26400, 27600, 28800, 30300, 31800, 33300, 34800, 36300, 38200, 40100, 42000, 43900, 45800];
  // 健保級距
  const healthLevels = [28590, 30000, 32000, 34000, 36000, 38000, 40000, 42000, 44000, 46000, 48000, 50000, 50600, 53000, 56000, 60000, 64000, 68000, 72000, 76000, 80000, 88000, 96000, 104000, 112000, 120000, 128000, 136000, 144000, 152000, 160000, 168000, 176000, 184000, 192000, 200000, 208000, 216000, 219500];
  
  function getLevel(salary, levels, min, max) {
    if (salary < min) return min;
    if (salary > max) return max;
    for (let i = 0; i < levels.length; i++) {
      if (salary <= levels[i]) return levels[i];
    }
    return max;
  }

  function calculate() {
    const salary = parseInt(document.getElementById('salary').value);
    if (!salary) {
      document.getElementById('output').innerHTML = "<p>請輸入正確薪資</p>";
      return;
    }

    // 勞保級距
    const laborLevel = getLevel(salary, laborLevels, 11100, 45800);
    const laborPersonal = Math.round(laborLevel * laborRates.personal);
    const laborCompany = Math.round(laborLevel * laborRates.company);

    // 健保級距
    const healthLevel = getLevel(salary, healthLevels, 28590, 219500);
    const healthPersonal = Math.round(healthLevel * healthRates.personal);
    const healthCompany = Math.round(healthLevel * healthRates.company);

    // 勞退：用實際工資
    const pensionBase = Math.min(Math.max(salary, 1500), 150000);
    const pensionCompany = Math.round(pensionBase * pensionRate);

    // 組合輸出
    let html = `
      <div class="card">
        <h3>勞保</h3>
        <p>級距金額：${laborLevel.toLocaleString()} 元</p>
        <p>公司負擔：${laborCompany.toLocaleString()} 元</p>
        <p>個人負擔：${laborPersonal.toLocaleString()} 元</p>
      </div>
      <div class="card">
        <h3>健保</h3>
        <p>級距金額：${healthLevel.toLocaleString()} 元</p>
        <p>公司負擔：${healthCompany.toLocaleString()} 元</p>
        <p>個人負擔：${healthPersonal.toLocaleString()} 元</p>
      </div>
      <div class="card">
        <h3>勞退</h3>
        <p>實際工資：${pensionBase.toLocaleString()} 元</p>
        <p>公司負擔：${pensionCompany.toLocaleString()} 元</p>
        <p>個人負擔：0 元</p>
      </div>
    `;
    document.getElementById('output').innerHTML = html;
  }
</script>
</body>
</html>
